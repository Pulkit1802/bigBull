{"ast":null,"code":"import differ from 'deep-diff'; // https://github.com/flitbit/diff#differences\n\nconst dictionary = {\n  E: {\n    color: '#2196F3',\n    text: 'CHANGED:'\n  },\n  N: {\n    color: '#4CAF50',\n    text: 'ADDED:'\n  },\n  D: {\n    color: '#F44336',\n    text: 'DELETED:'\n  },\n  A: {\n    color: '#2196F3',\n    text: 'ARRAY:'\n  }\n};\nexport function style(kind) {\n  return `color: ${dictionary[kind].color}; font-weight: bold`;\n}\nexport function render(diff) {\n  const {\n    kind,\n    path,\n    lhs,\n    rhs,\n    index,\n    item\n  } = diff;\n\n  switch (kind) {\n    case 'E':\n      return [path.join('.'), lhs, '→', rhs];\n\n    case 'N':\n      return [path.join('.'), rhs];\n\n    case 'D':\n      return [path.join('.')];\n\n    case 'A':\n      return [`${path.join('.')}[${index}]`, item];\n\n    default:\n      return [];\n  }\n}\nexport default function diffLogger(prevState, newState, logger, isCollapsed) {\n  const diff = differ(prevState, newState);\n\n  try {\n    if (isCollapsed) {\n      logger.groupCollapsed('diff');\n    } else {\n      logger.group('diff');\n    }\n  } catch (e) {\n    logger.log('diff');\n  }\n\n  if (diff) {\n    diff.forEach(elem => {\n      const {\n        kind\n      } = elem;\n      const output = render(elem);\n      logger.log(`%c ${dictionary[kind].text}`, style(kind), ...output);\n    });\n  } else {\n    logger.log('—— no diff ——');\n  }\n\n  try {\n    logger.groupEnd();\n  } catch (e) {\n    logger.log('—— diff end —— ');\n  }\n}","map":{"version":3,"names":["differ","dictionary","E","color","text","N","D","A","style","kind","render","diff","path","lhs","rhs","index","item","join","diffLogger","prevState","newState","logger","isCollapsed","groupCollapsed","group","e","log","forEach","elem","output","groupEnd"],"sources":["/home/cyrus/WebstormProjects/bigbull/client/node_modules/redux-logger/src/diff.js"],"sourcesContent":["import differ from 'deep-diff';\n\n// https://github.com/flitbit/diff#differences\nconst dictionary = {\n  E: {\n    color: '#2196F3',\n    text: 'CHANGED:',\n  },\n  N: {\n    color: '#4CAF50',\n    text: 'ADDED:',\n  },\n  D: {\n    color: '#F44336',\n    text: 'DELETED:',\n  },\n  A: {\n    color: '#2196F3',\n    text: 'ARRAY:',\n  },\n};\n\nexport function style(kind) {\n  return `color: ${dictionary[kind].color}; font-weight: bold`;\n}\n\nexport function render(diff) {\n  const { kind, path, lhs, rhs, index, item } = diff;\n\n  switch (kind) {\n    case 'E':\n      return [path.join('.'), lhs, '→', rhs];\n    case 'N':\n      return [path.join('.'), rhs];\n    case 'D':\n      return [path.join('.')];\n    case 'A':\n      return [`${path.join('.')}[${index}]`, item];\n    default:\n      return [];\n  }\n}\n\nexport default function diffLogger(prevState, newState, logger, isCollapsed) {\n  const diff = differ(prevState, newState);\n\n  try {\n    if (isCollapsed) {\n      logger.groupCollapsed('diff');\n    } else {\n      logger.group('diff');\n    }\n  } catch (e) {\n    logger.log('diff');\n  }\n\n  if (diff) {\n    diff.forEach((elem) => {\n      const { kind } = elem;\n      const output = render(elem);\n\n      logger.log(`%c ${dictionary[kind].text}`, style(kind), ...output);\n    });\n  } else {\n    logger.log('—— no diff ——');\n  }\n\n  try {\n    logger.groupEnd();\n  } catch (e) {\n    logger.log('—— diff end —— ');\n  }\n}\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB,C,CAEA;;AACA,MAAMC,UAAU,GAAG;EACjBC,CAAC,EAAE;IACDC,KAAK,EAAE,SADN;IAEDC,IAAI,EAAE;EAFL,CADc;EAKjBC,CAAC,EAAE;IACDF,KAAK,EAAE,SADN;IAEDC,IAAI,EAAE;EAFL,CALc;EASjBE,CAAC,EAAE;IACDH,KAAK,EAAE,SADN;IAEDC,IAAI,EAAE;EAFL,CATc;EAajBG,CAAC,EAAE;IACDJ,KAAK,EAAE,SADN;IAEDC,IAAI,EAAE;EAFL;AAbc,CAAnB;AAmBA,OAAO,SAASI,KAAT,CAAeC,IAAf,EAAqB;EAC1B,OAAQ,UAASR,UAAU,CAACQ,IAAD,CAAV,CAAiBN,KAAM,qBAAxC;AACD;AAED,OAAO,SAASO,MAAT,CAAgBC,IAAhB,EAAsB;EAC3B,MAAM;IAAEF,IAAF;IAAQG,IAAR;IAAcC,GAAd;IAAmBC,GAAnB;IAAwBC,KAAxB;IAA+BC;EAA/B,IAAwCL,IAA9C;;EAEA,QAAQF,IAAR;IACE,KAAK,GAAL;MACE,OAAO,CAACG,IAAI,CAACK,IAAL,CAAU,GAAV,CAAD,EAAiBJ,GAAjB,EAAsB,GAAtB,EAA2BC,GAA3B,CAAP;;IACF,KAAK,GAAL;MACE,OAAO,CAACF,IAAI,CAACK,IAAL,CAAU,GAAV,CAAD,EAAiBH,GAAjB,CAAP;;IACF,KAAK,GAAL;MACE,OAAO,CAACF,IAAI,CAACK,IAAL,CAAU,GAAV,CAAD,CAAP;;IACF,KAAK,GAAL;MACE,OAAO,CAAE,GAAEL,IAAI,CAACK,IAAL,CAAU,GAAV,CAAe,IAAGF,KAAM,GAA5B,EAAgCC,IAAhC,CAAP;;IACF;MACE,OAAO,EAAP;EAVJ;AAYD;AAED,eAAe,SAASE,UAAT,CAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,MAAzC,EAAiDC,WAAjD,EAA8D;EAC3E,MAAMX,IAAI,GAAGX,MAAM,CAACmB,SAAD,EAAYC,QAAZ,CAAnB;;EAEA,IAAI;IACF,IAAIE,WAAJ,EAAiB;MACfD,MAAM,CAACE,cAAP,CAAsB,MAAtB;IACD,CAFD,MAEO;MACLF,MAAM,CAACG,KAAP,CAAa,MAAb;IACD;EACF,CAND,CAME,OAAOC,CAAP,EAAU;IACVJ,MAAM,CAACK,GAAP,CAAW,MAAX;EACD;;EAED,IAAIf,IAAJ,EAAU;IACRA,IAAI,CAACgB,OAAL,CAAcC,IAAD,IAAU;MACrB,MAAM;QAAEnB;MAAF,IAAWmB,IAAjB;MACA,MAAMC,MAAM,GAAGnB,MAAM,CAACkB,IAAD,CAArB;MAEAP,MAAM,CAACK,GAAP,CAAY,MAAKzB,UAAU,CAACQ,IAAD,CAAV,CAAiBL,IAAK,EAAvC,EAA0CI,KAAK,CAACC,IAAD,CAA/C,EAAuD,GAAGoB,MAA1D;IACD,CALD;EAMD,CAPD,MAOO;IACLR,MAAM,CAACK,GAAP,CAAW,eAAX;EACD;;EAED,IAAI;IACFL,MAAM,CAACS,QAAP;EACD,CAFD,CAEE,OAAOL,CAAP,EAAU;IACVJ,MAAM,CAACK,GAAP,CAAW,iBAAX;EACD;AACF"},"metadata":{},"sourceType":"module"}