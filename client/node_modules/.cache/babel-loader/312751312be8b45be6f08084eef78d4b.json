{"ast":null,"code":"'use strict';\n\nvar $scope,\n    conflict,\n    conflictResolution = [];\n\nif (typeof global === 'object' && global) {\n  $scope = global;\n} else if (typeof window !== 'undefined') {\n  $scope = window;\n} else {\n  $scope = {};\n}\n\nconflict = $scope.DeepDiff;\n\nif (conflict) {\n  conflictResolution.push(function () {\n    if ('undefined' !== typeof conflict && $scope.DeepDiff === accumulateDiff) {\n      $scope.DeepDiff = conflict;\n      conflict = undefined;\n    }\n  });\n} // nodejs compatible on server side and in the browser.\n\n\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction Diff(kind, path) {\n  Object.defineProperty(this, 'kind', {\n    value: kind,\n    enumerable: true\n  });\n\n  if (path && path.length) {\n    Object.defineProperty(this, 'path', {\n      value: path,\n      enumerable: true\n    });\n  }\n}\n\nfunction DiffEdit(path, origin, value) {\n  DiffEdit.super_.call(this, 'E', path);\n  Object.defineProperty(this, 'lhs', {\n    value: origin,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\n\ninherits(DiffEdit, Diff);\n\nfunction DiffNew(path, value) {\n  DiffNew.super_.call(this, 'N', path);\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\n\ninherits(DiffNew, Diff);\n\nfunction DiffDeleted(path, value) {\n  DiffDeleted.super_.call(this, 'D', path);\n  Object.defineProperty(this, 'lhs', {\n    value: value,\n    enumerable: true\n  });\n}\n\ninherits(DiffDeleted, Diff);\n\nfunction DiffArray(path, index, item) {\n  DiffArray.super_.call(this, 'A', path);\n  Object.defineProperty(this, 'index', {\n    value: index,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'item', {\n    value: item,\n    enumerable: true\n  });\n}\n\ninherits(DiffArray, Diff);\n\nfunction arrayRemove(arr, from, to) {\n  var rest = arr.slice((to || from) + 1 || arr.length);\n  arr.length = from < 0 ? arr.length + from : from;\n  arr.push.apply(arr, rest);\n  return arr;\n}\n\nfunction realTypeOf(subject) {\n  var type = typeof subject;\n\n  if (type !== 'object') {\n    return type;\n  }\n\n  if (subject === Math) {\n    return 'math';\n  } else if (subject === null) {\n    return 'null';\n  } else if (Array.isArray(subject)) {\n    return 'array';\n  } else if (Object.prototype.toString.call(subject) === '[object Date]') {\n    return 'date';\n  } else if (typeof subject.toString === 'function' && /^\\/.*\\//.test(subject.toString())) {\n    return 'regexp';\n  }\n\n  return 'object';\n}\n\nfunction deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {\n  path = path || [];\n  stack = stack || [];\n  var currentPath = path.slice(0);\n\n  if (typeof key !== 'undefined') {\n    if (prefilter) {\n      if (typeof prefilter === 'function' && prefilter(currentPath, key)) {\n        return;\n      } else if (typeof prefilter === 'object') {\n        if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) {\n          return;\n        }\n\n        if (prefilter.normalize) {\n          var alt = prefilter.normalize(currentPath, key, lhs, rhs);\n\n          if (alt) {\n            lhs = alt[0];\n            rhs = alt[1];\n          }\n        }\n      }\n    }\n\n    currentPath.push(key);\n  } // Use string comparison for regexes\n\n\n  if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {\n    lhs = lhs.toString();\n    rhs = rhs.toString();\n  }\n\n  var ltype = typeof lhs;\n  var rtype = typeof rhs;\n  var ldefined = ltype !== 'undefined' || stack && stack[stack.length - 1].lhs && stack[stack.length - 1].lhs.hasOwnProperty(key);\n  var rdefined = rtype !== 'undefined' || stack && stack[stack.length - 1].rhs && stack[stack.length - 1].rhs.hasOwnProperty(key);\n\n  if (!ldefined && rdefined) {\n    changes(new DiffNew(currentPath, rhs));\n  } else if (!rdefined && ldefined) {\n    changes(new DiffDeleted(currentPath, lhs));\n  } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {\n    changes(new DiffEdit(currentPath, lhs, rhs));\n  } else if (realTypeOf(lhs) === 'date' && lhs - rhs !== 0) {\n    changes(new DiffEdit(currentPath, lhs, rhs));\n  } else if (ltype === 'object' && lhs !== null && rhs !== null) {\n    if (!stack.filter(function (x) {\n      return x.lhs === lhs;\n    }).length) {\n      stack.push({\n        lhs: lhs,\n        rhs: rhs\n      });\n\n      if (Array.isArray(lhs)) {\n        var i,\n            len = lhs.length;\n\n        for (i = 0; i < lhs.length; i++) {\n          if (i >= rhs.length) {\n            changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));\n          } else {\n            deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);\n          }\n        }\n\n        while (i < rhs.length) {\n          changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));\n        }\n      } else {\n        var akeys = Object.keys(lhs);\n        var pkeys = Object.keys(rhs);\n        akeys.forEach(function (k, i) {\n          var other = pkeys.indexOf(k);\n\n          if (other >= 0) {\n            deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);\n            pkeys = arrayRemove(pkeys, other);\n          } else {\n            deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);\n          }\n        });\n        pkeys.forEach(function (k) {\n          deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);\n        });\n      }\n\n      stack.length = stack.length - 1;\n    } else if (lhs !== rhs) {\n      // lhs is contains a cycle at this element and it differs from rhs\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    }\n  } else if (lhs !== rhs) {\n    if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    }\n  }\n}\n\nfunction accumulateDiff(lhs, rhs, prefilter, accum) {\n  accum = accum || [];\n  deepDiff(lhs, rhs, function (diff) {\n    if (diff) {\n      accum.push(diff);\n    }\n  }, prefilter);\n  return accum.length ? accum : undefined;\n}\n\nfunction applyArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    var it = arr[index],\n        i,\n        u = change.path.length - 1;\n\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n\n      case 'D':\n        delete it[change.path[i]];\n        break;\n\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  } else {\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(arr[index], change.index, change.item);\n        break;\n\n      case 'D':\n        arr = arrayRemove(arr, index);\n        break;\n\n      case 'E':\n      case 'N':\n        arr[index] = change.rhs;\n        break;\n    }\n  }\n\n  return arr;\n}\n\nfunction applyChange(target, source, change) {\n  if (target && source && change && change.kind) {\n    var it = target,\n        i = -1,\n        last = change.path ? change.path.length - 1 : 0;\n\n    while (++i < last) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = typeof change.path[i] === 'number' ? [] : {};\n      }\n\n      it = it[change.path[i]];\n    }\n\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);\n        break;\n\n      case 'D':\n        delete it[change.path[i]];\n        break;\n\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  }\n}\n\nfunction revertArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    // the structure of the object at the index has changed...\n    var it = arr[index],\n        i,\n        u = change.path.length - 1;\n\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n\n      case 'D':\n        it[change.path[i]] = change.lhs;\n        break;\n\n      case 'E':\n        it[change.path[i]] = change.lhs;\n        break;\n\n      case 'N':\n        delete it[change.path[i]];\n        break;\n    }\n  } else {\n    // the array item is different...\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(arr[index], change.index, change.item);\n        break;\n\n      case 'D':\n        arr[index] = change.lhs;\n        break;\n\n      case 'E':\n        arr[index] = change.lhs;\n        break;\n\n      case 'N':\n        arr = arrayRemove(arr, index);\n        break;\n    }\n  }\n\n  return arr;\n}\n\nfunction revertChange(target, source, change) {\n  if (target && source && change && change.kind) {\n    var it = target,\n        i,\n        u;\n    u = change.path.length - 1;\n\n    for (i = 0; i < u; i++) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = {};\n      }\n\n      it = it[change.path[i]];\n    }\n\n    switch (change.kind) {\n      case 'A':\n        // Array was modified...\n        // it will be an array...\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n\n      case 'D':\n        // Item was deleted...\n        it[change.path[i]] = change.lhs;\n        break;\n\n      case 'E':\n        // Item was edited...\n        it[change.path[i]] = change.lhs;\n        break;\n\n      case 'N':\n        // Item is new...\n        delete it[change.path[i]];\n        break;\n    }\n  }\n}\n\nfunction applyDiff(target, source, filter) {\n  if (target && source) {\n    var onChange = function (change) {\n      if (!filter || filter(target, source, change)) {\n        applyChange(target, source, change);\n      }\n    };\n\n    deepDiff(target, source, onChange);\n  }\n}\n\nObject.defineProperties(accumulateDiff, {\n  diff: {\n    value: accumulateDiff,\n    enumerable: true\n  },\n  observableDiff: {\n    value: deepDiff,\n    enumerable: true\n  },\n  applyDiff: {\n    value: applyDiff,\n    enumerable: true\n  },\n  applyChange: {\n    value: applyChange,\n    enumerable: true\n  },\n  revertChange: {\n    value: revertChange,\n    enumerable: true\n  },\n  isConflict: {\n    value: function () {\n      return 'undefined' !== typeof conflict;\n    },\n    enumerable: true\n  },\n  noConflict: {\n    value: function () {\n      if (conflictResolution) {\n        conflictResolution.forEach(function (it) {\n          it();\n        });\n        conflictResolution = null;\n      }\n\n      return accumulateDiff;\n    },\n    enumerable: true\n  }\n});\nexport default accumulateDiff;","map":{"version":3,"names":["$scope","conflict","conflictResolution","global","window","DeepDiff","push","accumulateDiff","undefined","inherits","ctor","superCtor","super_","prototype","Object","create","constructor","value","enumerable","writable","configurable","Diff","kind","path","defineProperty","length","DiffEdit","origin","call","DiffNew","DiffDeleted","DiffArray","index","item","arrayRemove","arr","from","to","rest","slice","apply","realTypeOf","subject","type","Math","Array","isArray","toString","test","deepDiff","lhs","rhs","changes","prefilter","key","stack","currentPath","normalize","alt","ltype","rtype","ldefined","hasOwnProperty","rdefined","filter","x","i","len","akeys","keys","pkeys","forEach","k","other","indexOf","isNaN","accum","diff","applyArrayChange","change","it","u","applyChange","target","source","last","revertArrayChange","revertChange","applyDiff","onChange","defineProperties","observableDiff","isConflict","noConflict"],"sources":["/home/cyrus/WebstormProjects/bigbull/client/node_modules/deep-diff/index.es.js"],"sourcesContent":["'use strict';\nvar $scope, conflict, conflictResolution = [];\nif (typeof global === 'object' && global) {\n  $scope = global;\n} else if (typeof window !== 'undefined') {\n  $scope = window;\n} else {\n  $scope = {};\n}\nconflict = $scope.DeepDiff;\nif (conflict) {\n  conflictResolution.push(\n    function() {\n      if ('undefined' !== typeof conflict && $scope.DeepDiff === accumulateDiff) {\n        $scope.DeepDiff = conflict;\n        conflict = undefined;\n      }\n    });\n}\n\n// nodejs compatible on server side and in the browser.\nfunction inherits(ctor, superCtor) {\n  ctor.super_ = superCtor;\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nfunction Diff(kind, path) {\n  Object.defineProperty(this, 'kind', {\n    value: kind,\n    enumerable: true\n  });\n  if (path && path.length) {\n    Object.defineProperty(this, 'path', {\n      value: path,\n      enumerable: true\n    });\n  }\n}\n\nfunction DiffEdit(path, origin, value) {\n  DiffEdit.super_.call(this, 'E', path);\n  Object.defineProperty(this, 'lhs', {\n    value: origin,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffEdit, Diff);\n\nfunction DiffNew(path, value) {\n  DiffNew.super_.call(this, 'N', path);\n  Object.defineProperty(this, 'rhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffNew, Diff);\n\nfunction DiffDeleted(path, value) {\n  DiffDeleted.super_.call(this, 'D', path);\n  Object.defineProperty(this, 'lhs', {\n    value: value,\n    enumerable: true\n  });\n}\ninherits(DiffDeleted, Diff);\n\nfunction DiffArray(path, index, item) {\n  DiffArray.super_.call(this, 'A', path);\n  Object.defineProperty(this, 'index', {\n    value: index,\n    enumerable: true\n  });\n  Object.defineProperty(this, 'item', {\n    value: item,\n    enumerable: true\n  });\n}\ninherits(DiffArray, Diff);\n\nfunction arrayRemove(arr, from, to) {\n  var rest = arr.slice((to || from) + 1 || arr.length);\n  arr.length = from < 0 ? arr.length + from : from;\n  arr.push.apply(arr, rest);\n  return arr;\n}\n\nfunction realTypeOf(subject) {\n  var type = typeof subject;\n  if (type !== 'object') {\n    return type;\n  }\n\n  if (subject === Math) {\n    return 'math';\n  } else if (subject === null) {\n    return 'null';\n  } else if (Array.isArray(subject)) {\n    return 'array';\n  } else if (Object.prototype.toString.call(subject) === '[object Date]') {\n    return 'date';\n  } else if (typeof subject.toString === 'function' && /^\\/.*\\//.test(subject.toString())) {\n    return 'regexp';\n  }\n  return 'object';\n}\n\nfunction deepDiff(lhs, rhs, changes, prefilter, path, key, stack) {\n  path = path || [];\n  stack = stack || [];\n  var currentPath = path.slice(0);\n  if (typeof key !== 'undefined') {\n    if (prefilter) {\n      if (typeof(prefilter) === 'function' && prefilter(currentPath, key)) {\n        return; } else if (typeof(prefilter) === 'object') {\n        if (prefilter.prefilter && prefilter.prefilter(currentPath, key)) {\n          return; }\n        if (prefilter.normalize) {\n          var alt = prefilter.normalize(currentPath, key, lhs, rhs);\n          if (alt) {\n            lhs = alt[0];\n            rhs = alt[1];\n          }\n        }\n      }\n    }\n    currentPath.push(key);\n  }\n\n  // Use string comparison for regexes\n  if (realTypeOf(lhs) === 'regexp' && realTypeOf(rhs) === 'regexp') {\n    lhs = lhs.toString();\n    rhs = rhs.toString();\n  }\n\n  var ltype = typeof lhs;\n  var rtype = typeof rhs;\n\n  var ldefined = ltype !== 'undefined' || (stack && stack[stack.length - 1].lhs && stack[stack.length - 1].lhs.hasOwnProperty(key));\n  var rdefined = rtype !== 'undefined' || (stack && stack[stack.length - 1].rhs && stack[stack.length - 1].rhs.hasOwnProperty(key));\n\n  if (!ldefined && rdefined) {\n    changes(new DiffNew(currentPath, rhs));\n  } else if (!rdefined && ldefined) {\n    changes(new DiffDeleted(currentPath, lhs));\n  } else if (realTypeOf(lhs) !== realTypeOf(rhs)) {\n    changes(new DiffEdit(currentPath, lhs, rhs));\n  } else if (realTypeOf(lhs) === 'date' && (lhs - rhs) !== 0) {\n    changes(new DiffEdit(currentPath, lhs, rhs));\n  } else if (ltype === 'object' && lhs !== null && rhs !== null) {\n    if (!stack.filter(function(x) {\n        return x.lhs === lhs; }).length) {\n      stack.push({ lhs: lhs, rhs: rhs });\n      if (Array.isArray(lhs)) {\n        var i, len = lhs.length;\n        for (i = 0; i < lhs.length; i++) {\n          if (i >= rhs.length) {\n            changes(new DiffArray(currentPath, i, new DiffDeleted(undefined, lhs[i])));\n          } else {\n            deepDiff(lhs[i], rhs[i], changes, prefilter, currentPath, i, stack);\n          }\n        }\n        while (i < rhs.length) {\n          changes(new DiffArray(currentPath, i, new DiffNew(undefined, rhs[i++])));\n        }\n      } else {\n        var akeys = Object.keys(lhs);\n        var pkeys = Object.keys(rhs);\n        akeys.forEach(function(k, i) {\n          var other = pkeys.indexOf(k);\n          if (other >= 0) {\n            deepDiff(lhs[k], rhs[k], changes, prefilter, currentPath, k, stack);\n            pkeys = arrayRemove(pkeys, other);\n          } else {\n            deepDiff(lhs[k], undefined, changes, prefilter, currentPath, k, stack);\n          }\n        });\n        pkeys.forEach(function(k) {\n          deepDiff(undefined, rhs[k], changes, prefilter, currentPath, k, stack);\n        });\n      }\n      stack.length = stack.length - 1;\n    } else if (lhs !== rhs) {\n      // lhs is contains a cycle at this element and it differs from rhs\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    }\n  } else if (lhs !== rhs) {\n    if (!(ltype === 'number' && isNaN(lhs) && isNaN(rhs))) {\n      changes(new DiffEdit(currentPath, lhs, rhs));\n    }\n  }\n}\n\nfunction accumulateDiff(lhs, rhs, prefilter, accum) {\n  accum = accum || [];\n  deepDiff(lhs, rhs,\n    function(diff) {\n      if (diff) {\n        accum.push(diff);\n      }\n    },\n    prefilter);\n  return (accum.length) ? accum : undefined;\n}\n\nfunction applyArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    var it = arr[index],\n      i, u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        delete it[change.path[i]];\n        break;\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  } else {\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(arr[index], change.index, change.item);\n        break;\n      case 'D':\n        arr = arrayRemove(arr, index);\n        break;\n      case 'E':\n      case 'N':\n        arr[index] = change.rhs;\n        break;\n    }\n  }\n  return arr;\n}\n\nfunction applyChange(target, source, change) {\n  if (target && source && change && change.kind) {\n    var it = target,\n      i = -1,\n      last = change.path ? change.path.length - 1 : 0;\n    while (++i < last) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = (typeof change.path[i] === 'number') ? [] : {};\n      }\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        applyArrayChange(change.path ? it[change.path[i]] : it, change.index, change.item);\n        break;\n      case 'D':\n        delete it[change.path[i]];\n        break;\n      case 'E':\n      case 'N':\n        it[change.path[i]] = change.rhs;\n        break;\n    }\n  }\n}\n\nfunction revertArrayChange(arr, index, change) {\n  if (change.path && change.path.length) {\n    // the structure of the object at the index has changed...\n    var it = arr[index],\n      i, u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'E':\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'N':\n        delete it[change.path[i]];\n        break;\n    }\n  } else {\n    // the array item is different...\n    switch (change.kind) {\n      case 'A':\n        revertArrayChange(arr[index], change.index, change.item);\n        break;\n      case 'D':\n        arr[index] = change.lhs;\n        break;\n      case 'E':\n        arr[index] = change.lhs;\n        break;\n      case 'N':\n        arr = arrayRemove(arr, index);\n        break;\n    }\n  }\n  return arr;\n}\n\nfunction revertChange(target, source, change) {\n  if (target && source && change && change.kind) {\n    var it = target,\n      i, u;\n    u = change.path.length - 1;\n    for (i = 0; i < u; i++) {\n      if (typeof it[change.path[i]] === 'undefined') {\n        it[change.path[i]] = {};\n      }\n      it = it[change.path[i]];\n    }\n    switch (change.kind) {\n      case 'A':\n        // Array was modified...\n        // it will be an array...\n        revertArrayChange(it[change.path[i]], change.index, change.item);\n        break;\n      case 'D':\n        // Item was deleted...\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'E':\n        // Item was edited...\n        it[change.path[i]] = change.lhs;\n        break;\n      case 'N':\n        // Item is new...\n        delete it[change.path[i]];\n        break;\n    }\n  }\n}\n\nfunction applyDiff(target, source, filter) {\n  if (target && source) {\n    var onChange = function(change) {\n      if (!filter || filter(target, source, change)) {\n        applyChange(target, source, change);\n      }\n    };\n    deepDiff(target, source, onChange);\n  }\n}\n\nObject.defineProperties(accumulateDiff, {\n\n  diff: {\n    value: accumulateDiff,\n    enumerable: true\n  },\n  observableDiff: {\n    value: deepDiff,\n    enumerable: true\n  },\n  applyDiff: {\n    value: applyDiff,\n    enumerable: true\n  },\n  applyChange: {\n    value: applyChange,\n    enumerable: true\n  },\n  revertChange: {\n    value: revertChange,\n    enumerable: true\n  },\n  isConflict: {\n    value: function() {\n      return 'undefined' !== typeof conflict;\n    },\n    enumerable: true\n  },\n  noConflict: {\n    value: function() {\n      if (conflictResolution) {\n        conflictResolution.forEach(function(it) {\n          it();\n        });\n        conflictResolution = null;\n      }\n      return accumulateDiff;\n    },\n    enumerable: true\n  }\n});\n\nexport default accumulateDiff;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}